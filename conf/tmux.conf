#------------------------------------------------------------------------------
# This line is 80 characters
#
# Tmux config file
#------------------------------------------------------------------------------
set-option -g prefix C-space

# bind-key C-a last-window
set -s escape-time 0
set -g mouse-resize-pane on
set -g mode-mouse on

# Statusbar on top
set-option -g status-position top

# Set currently active window to red
set-window-option -g window-status-current-bg red

# Vi opts
set-window-option -g mode-keys vi

# Vi mode copy
unbind [
bind v copy-mode
unbind p
bind p paste-buffer

bind-key -t vi-copy 'q' previous-word
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy y copy-pipe 'xclip -in -selection clipboard'


# Pane movement, `bind -r` indicates that you can repeat keys without repeating
# the prefix key each time.
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Window movement
bind-key -r n previous-window
bind-key -r m next-window

# Window splits
bind . split-window -h # Split panes horizontal
bind - split-window -v # Split panes vertically

# Move windows
bind-key -r < swap-window -t :-
bind-key -r > swap-window -t :+


# Bunch of borrowed options, figure them out later
set-window-option -g window-status-current-bg colour166
set-window-option -g window-status-current-fg colour15
set-window-option -g window-status-current-attr bold
set-window-option -g window-status-current-format ' #I #W '

set-option -g set-titles on
set-option -g set-titles-string '[#I] #W'
set-window-option -g automatic-rename on
set-window-option -g window-status-format ' #I #W '
set-window-option -g window-status-attr bold

set-window-option -g pane-base-index 1
set-option -g base-index 1

set-option -g visual-activity on
set-option -g visual-content on
set-window-option -g monitor-activity on
set-window-option -g automatic-rename off

set-option -g pane-active-border-fg yellow
set-option -g pane-border-fg white
# End borrowed options

bind R source-file ~/.tmux.conf \; display-message "reloading conf..."

# Tmux Plugins
set -g @plugin 'tmux-plugins/tpm'

set -g @plugin 'tmux-plugins/tmux-copycat'
set -g @copycat_search 's'

set -g @plugin 'tmux-plugins/tmux-open'


#set -g @plugin 'tmux-plugins/tmux-sessionist'
#set -g @plugin 'tmux-plugins/tmux-resurrect'
#set -g @plugin 'tmux-plugins/tmux-continuum'


# Init TPM
run '~/.tmux/plugins/tpm/tpm'
